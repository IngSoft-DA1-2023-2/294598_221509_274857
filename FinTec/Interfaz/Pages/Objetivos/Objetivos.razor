@page "/home/{Id:int}/{Correo}/Objetivos"
@inject NavigationManager NavigationManager;
@using BussinesLogic
@using Domain
@inject UsuarioLogic UsuarioLogic;
@inject EspacioLogic EspacioLogic;
@inject Persistencia Persistencia;

<PageTitle>FinTec Objetivos</PageTitle>
<TituloRosado Titulo="Objetivos del espacio." Subtitulo="Cree sus objetivos aquí."></TituloRosado>
<EspacioActual></EspacioActual>

<div class="mb-4">
<a class="text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"
   href="/home/@Persistencia.Id/@Persistencia.Correo/CrearObjetivos">Crear Objetivos</a>
</div>

@foreach (var objetivos in EspacioLogic.FindEspacio(Persistencia.Id).Objetivos)
{
	<div class="card">
		<div class="card-body">
			<h5 class="card-title"><strong>Titulo del objetivo:</strong> @objetivos.Titulo</h5>
			<p><strong>Monto maximo de gasto por mes:</strong>@objetivos.MontoMaximo</p>
			<p><strong>Objetivo aplicado a las categorias:</strong></p>
			@foreach(var categoria in objetivos.Categorias)
			{
				@if (categoria != null)
				{
					<p>@categoria.Nombre</p>
				}
			}
			<p style="color:red">@ErrorMsg</p>
			
		</div>
	</div>
}


@code {
	[Parameter] public int Id { get; set; }
	[Parameter] public string Correo { get; set; }
	public string ErrorMsg { get; set; }
	private List<Categoria> categoriasSeleccionada;
}
