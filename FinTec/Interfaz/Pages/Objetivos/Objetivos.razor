@page "/home/{Id:int}/{Correo}/Objetivos"
@inject NavigationManager NavigationManager;
@using BussinesLogic
@using Domain
@inject UsuarioLogic UsuarioLogic;
@inject EspacioLogic EspacioLogic;
@inject Persistencia Persistencia;

<PageTitle>FinTec Objetivos</PageTitle>
<TituloRosado Titulo="Objetivos del espacio" Subtitulo="Cree sus objetivos aquí."></TituloRosado>
<EspacioActual></EspacioActual>

<div class="mb-4">
<a class="text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"
   href="/home/@Persistencia.Id/@Persistencia.Correo/CrearObjetivos">Crear Objetivos</a>
</div>

<ul class="max-w-md divide-y divide-gray-200 dark:divide-gray-700">
    @foreach (var objetivo in EspacioLogic.FindEspacio(Persistencia.Id).Objetivos)
    {
        <li class="py-3 sm:py-4">
            <div class="flex items-center space-x-4">
                <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-900 truncate dark:text-white">
                        <strong>Nombre:</strong> @objetivo.Titulo
                    </p>
                    <p class="text-sm text-gray-900 truncate dark:text-gray-400">
                        <strong>Objetivo de gasto:</strong> @objetivo.MontoMaximo<strong>$</strong>
                    </p>
                    <p class="text-sm text-gray-900 truncate dark:text-gray-400">
                        <strong>Categorías: </strong> @foreach (var categoria in objetivo.Categorias)
                        {
                            @categoria.Nombre
                            @if (categoria != objetivo.Categorias.Last())
                            {
                            
                            }
                        }
                    </p>
                </div>
            </div>
        </li>
    }
</ul>




@code {
	[Parameter] public int Id { get; set; }
	[Parameter] public string Correo { get; set; }
	public string ErrorMsg { get; set; }
	private List<Categoria> categoriasSeleccionada;
}
